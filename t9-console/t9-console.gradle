/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.10.2/userguide/java_library_plugin.html
 */

plugins {
	 id 'java'
	 id 'application'
	 id 'io.spring.dependency-management' version '1.0.8.RELEASE'
 }

 group = 'rose.mary.trace'
 description = 't9-console project'
 version = '1.0.0'
 sourceCompatibility = 1.8
 targetCompatibility = 1.8
 application {
	 mainClassName = 'App'
 }

 dependencies {

	 // https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient
	 compile group: 'org.apache.httpcomponents', name: 'httpclient', version: '4.5.11'

	 compile 'org.springframework:spring-web:5.1.5.RELEASE'
	 compile 'org.springframework:spring-context-support:5.1.5.RELEASE'
	 
	 compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version:'2.9.8'
	 compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version:'2.9.8'

	 compile group: 'org.fusesource.jansi', name: 'jansi', version:'1.11'

	 compile('pep.per:mint-common:3.0.0') {
		exclude group: 'org.slf4j', 					module: 'slf4j-api'
		exclude group: 'org.slf4j', 					module: 'jcl-over-slf4j'
		exclude group: 'org.slf4j',                     module: 'slf4j-log4j12'
		exclude group: 'log4j',     					module: 'log4j'

		exclude group: 'ch.qos.logback', 				module: 'logback-classic'
		//jackson
		exclude group: 'com.fasterxml.jackson.core', 	module: 'jackson-core'
		exclude group: 'com.fasterxml.jackson.core', 	module: 'jackson-databind'
 		exclude group: 'com.fasterxml.jackson.core', 	module: 'jackson-annotations'
		
		

		//spring
		exclude group: 'org.springframework', 			module: 'spring-core'
		exclude group: 'org.springframework', 			module: 'spring-context'
		//exclude group: 'org.springframework', 			module: 'spring-context-support'
		exclude group: 'org.springframework', 			module: 'spring-webmvc'
		exclude group: 'org.springframework', 			module: 'spring-jdbc'
		exclude group: 'org.springframework', 			module: 'spring-tx'
		exclude group: 'org.springframework', 			module: 'spring-test'
		exclude group: 'org.springframework', 			module: 'spring-orm'
		exclude group: 'org.aspectj', 					module: 'aspectjrt'
		exclude group: 'org.aspectj', 					module: 'aspectjrt'
		//apache
		exclude group: 'xerces', 						module: 'xercesImpl'
		exclude group: 'commons-codec', 				module: 'commons-codec'
		exclude group: 'junit', 						module: 'junit'
	}

	//apache common-io 
	// https://mvnrepository.com/artifact/commons-io/commons-io
	implementation group: 'commons-io', name: 'commons-io', version: '2.11.0'

	//----------------------------------------------------------------------------
	//logging
	//----------------------------------------------------------------------------
	compile group: 'ch.qos.logback', name: 'logback-classic', version:'1.2.3'
	compile group: 'org.apache.logging.log4j', name: 'log4j-to-slf4j', version:'2.11.2'
	compile group: 'org.slf4j', name: 'jul-to-slf4j', version:'1.7.25'

	//wmq
	//compile group: 'com.ibm.mq', 				name: 'com.ibm.mq.allclient', 			version: '9.1.3.0'
	compile group: 'com.ibm.mq', 				name: 'com.ibm.mq.allclient', 			version: '9.2.0.1'

	compile fileTree (dir: '../t9-trace/lib', include:['ILinkAPI-6.1.0.jar','mi_link_wrapper.jar','mi_common.jar', 'javax.jms.jar','MQInterfaceSDK.1.6.4.jar'])

	// https://mvnrepository.com/artifact/oracle/ojdbc6
	//compile group: 'oracle', name: 'ojdbc6', version: '11.2.0.3'
	compile 'com.oracle:ojdbc6:11.2.0.3' // 추가하기

	//jdbc for postgres
	// https://mvnrepository.com/artifact/org.postgresql/postgresql
	compile group: 'org.postgresql', name: 'postgresql', version: '42.3.4'
	
 }

//  jar {
	 
// 	 manifest {
// 		 attributes 'Main-Class': 'App'
// 	 }
// 	 from {
// 		 configurations.compile.collect {
// 			 it.isDirectory() ? it : zipTree(it)
// 		 }
		 
// 	 }
//  }
jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': 'App'
        )
    }

    from(configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }) {
        exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
    }
}

